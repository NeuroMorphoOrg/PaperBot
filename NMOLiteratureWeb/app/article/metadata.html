<form ng-controller='MetadataController' editable-form name="tableform" onaftersave="updateMetadata(articleStatus)" oncancel="cancel()">
    <fieldset ng-disabled='!articleSaved' ng-class="{true: 'unactive', false: 'active'}[!articleSaved]">

        <div class="panel-group">
            <div class="panel panel-success">
                <div class="panel-heading"><strong>Metadata</strong><span class='errors' ng-if="!articleSaved"> - Save article first to activate the Metadata</span></div> 
                <div>
                    <div class="btn-edit">
                        <button type="button" class="btn btn-info" ng-show="!tableform.$visible" ng-click="tableform.$show()">
                            <span class="glyphicon glyphicon-edit" aria-hidden="true"><strong>EDIT</strong></span>
                        </button>
                    </div>
                    <div class="btn-form" ng-show="tableform.$visible">
                        <button type="submit" class="btn btn-primary" ng-disabled="uiSelectForm.$waiting">SAVE</button>                    
                        <button type="button" ng-disabled="tableform.$waiting" ng-click="tableform.$cancel()" class="btn btn-default">CANCEL</button>
                    </div>

                </div>
                <table class="table">
                    <tr>
                        <td><strong>Comment:</strong></td>
                        <td><span editable-textarea="metadata.comment">{{metadata.comment}}</span></td>
                    </tr>
                    <tr>
                        <td><strong>Article Status: </strong></td>
                        <td>
                            <span editable-radiolist="radio.status" e-ng-options="s.value as s.text for s in statuses">
                                {{showStatus()}}</span>
                        </td>

                        <td></td>

                    </tr>
                    <tr>
                        <td><strong>Category 1:</strong></td>
                        <td><span editable-text="metadata.category1">{{metadata.category1}}</span></td>
                    </tr>
                    <tr>
                        <td><strong>Category 2:</strong></td>
                        <!--<td><span editable-select="article.metadata.species"  e-ng-options="g for g in species">{{article.metadata.species}}</span></td>-->
                        <td><span editable-text="metadata.category2">{{metadata.category2}}</span></td>

                    </tr>
                    <tr>
                        <td><strong>Category 3:</strong></td>
                        <td><span editable-text="metadata.category3">{{metadata.category3}}</span></td>
                    </tr>
                    <tr>
                        <td><strong>Category 4:</strong></td>
                        <td><span editable-text="metadata.category4">{{metadata.category4}}</span></td>
                    </tr>
                    <tr>
                        <td><strong>Category 5:</strong></td>
                        <!-- To be used if an API with values is provided
                        <td><span editable-select="metadata.tracingSystem[0]" e-ng-options="option for option in tracingOptionList">
                                {{metadata.tracingSystem[0]}}</span></td>-->
                        <td><span editable-text="metadata.category5">{{metadata.category5}}</span></td>

                    </tr>

                    <div class="checkbox">
                        <label><span editable-checkbox="metadata.finished" e-title="Is metadata finished?">{{metadata.finished && "Metadata finished"|| "Metadata not finished"  }}</span>
                    </div>
                </table>

            </div>
        </div>
    </fieldset>

</form>
